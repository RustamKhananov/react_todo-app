(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var i=n(0),l=n.n(i),o=n(3),a=n.n(o),c=(n(14),n(15),n(7)),s=n(1),d=n(4),r=n(5),u=n(8),h=n(6),f=function(e){var t="",n=e.todo,i=n.id,o=n.description,a=n.isActive,c=n.isEdited,s=e.handleIsActiveChange,d=e.handleEditFieldChange,r=e.deleteToDo,u=e.handleItemDoubleClick,h=e.handleEditEnter;return t=a?"view":"completed",c&&(t="editing"),l.a.createElement("li",{key:i,className:t,id:i},l.a.createElement("div",{className:"view"},l.a.createElement("input",{type:"checkbox",className:"toggle",checked:!a,id:"todo-".concat(i),onChange:function(){return s(i)}}),l.a.createElement("label",{onDoubleClick:function(){return u(i)},htmlFor:"todo-".concat(i)},o),l.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return r(i)}})),l.a.createElement("input",{value:o,type:"text",className:"edit",onChange:function(e){return d(e,i)},onKeyDown:function(e){return h(e,i)},onBlur:function(e){return h(e,i)}}))},m=function(e){var t=e.todos,n=e.handleEditFieldChange,i=e.deleteToDo,o=e.handleIsActiveChange,a=e.handleItemDoubleClick,c=e.handleEditEnter;return l.a.createElement("ul",{className:"todo-list"},t.map((function(e){return l.a.createElement(f,{key:e.id,todo:e,handleIsActiveChange:o,deleteToDo:i,handleItemDoubleClick:a,handleEditEnter:c,handleEditFieldChange:n})})))},v=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={todos:[],nextId:1,typeOfFilter:"all",isAllButtonActive:!0,isActiveButtonActive:!1,isCompletedButtonActive:!1,isToggleAll:!0,fieldValue:"",isAnyEditedField:!1},e.checkerOfToggleAllState=function(){e.setState((function(e){return{isToggleAll:e.todos.length===e.todos.filter((function(e){return!e.isActive})).length&&0!==e.todos.length}}))},e.handleIsActiveChange=function(t){var n=e.state.todos.findIndex((function(e){return e.id===parseInt(t,10)}));e.setState((function(e){var t=Object(s.a)(e.todos);return t[n].isActive=!t[n].isActive,{todos:Object(s.a)(t)}})),e.checkerOfToggleAllState()},e.addNewToDo=function(t){t.preventDefault(),""!==e.state.fieldValue.trim()&&(e.setState((function(e){return{todos:[].concat(Object(s.a)(e.todos),[{description:e.fieldValue,isActive:!0,id:e.nextId,isEdited:!1}]),nextId:e.nextId+1,fieldValue:""}})),e.checkerOfToggleAllState())},e.changeAddField=function(t){var n=t.target.value;e.setState({fieldValue:n})},e.deleteToDo=function(t){var n=e.state.todos.findIndex((function(e){return e.id===parseInt(t,10)}));e.setState((function(e){var t=Object(s.a)(e.todos);return t.splice(n,1),{todos:Object(s.a)(t)}})),e.checkerOfToggleAllState()},e.clearComplited=function(){e.setState((function(e){return{todos:e.todos.filter((function(e){return e.isActive}))}}))},e.setFilterToAll=function(){e.setState({typeOfFilter:"all",isAllButtonActive:!0,isActiveButtonActive:!1,isCompletedButtonActive:!1})},e.setFilterToActive=function(){e.setState({typeOfFilter:"active",isAllButtonActive:!1,isActiveButtonActive:!0,isCompletedButtonActive:!1})},e.setFilterToCompleted=function(){e.setState({typeOfFilter:"completed",isAllButtonActive:!1,isActiveButtonActive:!1,isCompletedButtonActive:!0})},e.handleToggleAllChange=function(){var t=e.state.isToggleAll;e.setState((function(e){return{todos:e.todos.map((function(e){var n=Object(c.a)({},e);return n.isActive=t,n})),isToggleAll:!t}})),e.checkerOfToggleAllState()},e.handleItemDoubleClick=function(t){if(!e.state.isAnyEditedField){var n=e.state.todos.findIndex((function(e){return e.id===parseInt(t,10)}));e.setState((function(e){var t=Object(s.a)(e.todos);return t[n].isEdited=!t[n].isEdited,{todos:Object(s.a)(t),isAnyEditedField:!0}}))}},e.handleEditEnter=function(t,n){if(("Enter"===t.key||"blur"===t.type)&&""!==t.target.value.trim()){var i=e.state.todos.findIndex((function(e){return e.id===n}));e.setState((function(e){var t=Object(s.a)(e.todos);return t[i].isEdited=!1,{todos:Object(s.a)(t),isAnyEditedField:!1}}))}},e.handleEditFieldChange=function(t,n){var i=e.state.todos.findIndex((function(e){return e.id===n})),l=t.target.value;e.setState((function(e){var t=Object(s.a)(e.todos);return t[i].description=l,{todos:Object(s.a)(t)}}))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){if(localStorage.getItem("ToDoAppData")){var e=JSON.parse(localStorage.getItem("ToDoAppData")),t=e.todos,n=e.nextId,i=e.typeOfFilter,l=e.isAllButtonActive,o=e.isActiveButtonActive,a=e.isComplitedButtonActiv,c=e.isToggleAll,s=e.fieldValue;this.setState({todos:t,nextId:n,typeOfFilter:i,isAllButtonActive:l,isActiveButtonActive:o,isComplitedButtonActiv:a,isToggleAll:c,fieldValue:s}),this.checkerOfToggleAllState()}}},{key:"componentDidUpdate",value:function(){localStorage.setItem("ToDoAppData",JSON.stringify(this.state))}},{key:"render",value:function(){var e=Object(s.a)(this.state.todos);"active"===this.state.typeOfFilter&&(e=this.state.todos.filter((function(e){return e.isActive}))),"completed"===this.state.typeOfFilter&&(e=this.state.todos.filter((function(e){return!e.isActive})));var t=this.state.todos.filter((function(e){return e.isActive})).length,n=this.state,i=n.isActiveButtonActive,o=n.fieldValue,a=n.isAllButtonActive,c=n.isCompletedButtonActive,d=n.isToggleAll;return l.a.createElement("section",{className:"todoapp"},l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"todos"),l.a.createElement("form",{onSubmit:this.addNewToDo},l.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",onChange:this.changeAddField,value:o}))),l.a.createElement("section",{className:"main"},l.a.createElement("input",{onChange:this.handleToggleAllChange,checked:d,type:"checkbox",id:"toggle-all",className:"toggle-all"}),l.a.createElement("label",{className:this.state.todos.length||"non-visible",htmlFor:"toggle-all"},"Mark all as complete"),l.a.createElement(m,{todos:e,changeToDo:this.handleChangeToDo,deleteToDo:this.deleteToDo,handleIsActiveChange:this.handleIsActiveChange,handleItemDoubleClick:this.handleItemDoubleClick,handleEditEnter:this.handleEditEnter,handleEditFieldChange:this.handleEditFieldChange})),l.a.createElement("footer",{className:this.state.todos.length?"footer":"non-visible footer"},l.a.createElement("span",{className:"todo-count"},t," ","items left"),l.a.createElement("ul",{className:"filters"},l.a.createElement("li",null,l.a.createElement("a",{href:"#/",className:a?"selected":"",onClick:this.setFilterToAll},"All")),l.a.createElement("li",null,l.a.createElement("a",{href:"#/active",className:i?"selected":"",onClick:this.setFilterToActive},"Active")),l.a.createElement("li",null,l.a.createElement("a",{href:"#/completed",className:c?"selected":"",onClick:this.setFilterToCompleted},"Completed"))),l.a.createElement("button",{type:"button",className:"clear-completed",onClick:this.clearComplited},"Clear completed")))}}]),n}(l.a.Component);a.a.render(l.a.createElement(v,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.2cda8e15.chunk.js.map